<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Loading...</title>
    <style>
      body {
        min-height: 100vh;
        background: radial-gradient(
          ellipse at 50% 40%,
          #22214f 0%,
          #18143a 70%,
          #0a0b1f 100%
        );
        overflow: hidden;
        margin: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      .stars {
        position: absolute;
        width: 100vw;
        height: 100vh;
        left: 0;
        top: 0;
        pointer-events: none;
        z-index: 0;
      }
      .star {
        position: absolute;
        background: #7fd0ff;
        border-radius: 100%;
        width: 2px;
        height: 2px;
        opacity: 0.7;
        animation: twinkle 2s infinite alternate;
      }
      @keyframes twinkle {
        to {
          opacity: 1;
        }
      }
      .asteroid {
        position: absolute;
        width: 20px;
        height: 12px;
        background: linear-gradient(135deg, #b892ff 40%, #18143a 100%);
        border-radius: 50% 40% 60% 50%;
        opacity: 0.55;
        animation: floatAsteroid 10s linear infinite;
      }
      @keyframes floatAsteroid {
        from {
          transform: translateX(-100vw) rotate(0deg);
        }
        to {
          transform: translateX(100vw) rotate(360deg);
        }
      }
      .spaceship {
        position: relative;
        z-index: 2;
        margin-top: 60px;
        animation: bob 2s infinite alternate;
        width: 220px;
        height: auto;
        display: block;
      }
      @keyframes bob {
        to {
          transform: translateY(-16px);
        }
      }
      .loading-text {
        z-index: 2;
        text-align: center;
        margin-top: 36px;
        color: #aebaff;
        font-size: 1.4em;
        font-family: Montserrat, Arial, sans-serif;
        letter-spacing: 1px;
        text-shadow: 0 0 8px #22214f;
      }
    </style>
  </head>
  <body>
    <!-- Star field (you can generate more with JS for density) -->
    <div class="stars">
      <div class="star" style="top: 15%; left: 20%"></div>
      <div class="star" style="top: 80%; left: 70%"></div>
      <div class="star" style="top: 40%; left: 55%"></div>
      <div class="star" style="top: 60%; left: 30%"></div>
      <div class="star" style="top: 22%; left: 80%"></div>
      <div class="star" style="top: 10%; left: 60%"></div>
      <div class="star" style="top: 5%; left: 5%"></div>
      <div class="star" style="top: 50%; left: 90%"></div>
      <!-- ...add more stars for density... -->
      <!-- Asteroids (you can randomize positions for more variety) -->
      <div
        class="asteroid"
        style="top: 30%; left: 0%; animation-delay: 0s"
      ></div>
      <div
        class="asteroid"
        style="top: 50%; left: 10%; animation-delay: 2s"
      ></div>
      <div
        class="asteroid"
        style="top: 70%; left: 30%; animation-delay: 4s"
      ></div>
      <div
        class="asteroid"
        style="top: 60%; left: 80%; animation-delay: 6s"
      ></div>
      <!-- ...add more asteroids for effect... -->
    </div>
    <!-- Spaceship SVG (replace with custom or animated SVG as desired) -->
    <svg
      class="spaceship"
      viewBox="0 0 220 80"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <ellipse cx="110" cy="65" rx="70" ry="12" fill="#22214f" opacity="0.2" />
      <rect
        x="60"
        y="30"
        width="100"
        height="26"
        rx="13"
        fill="#7fd0ff"
        stroke="#b892ff"
        stroke-width="5"
      />
      <ellipse
        cx="110"
        cy="43"
        rx="36"
        ry="18"
        fill="#22214f"
        stroke="#7fd0ff"
        stroke-width="4"
      />
      <rect
        x="98"
        y="16"
        width="24"
        height="32"
        rx="12"
        fill="#b892ff"
        stroke="#7fd0ff"
        stroke-width="3"
      />
      <ellipse cx="110" cy="21" rx="10" ry="4" fill="#aebaff" />
      <!-- Rocket flames -->
      <ellipse cx="110" cy="75" rx="8" ry="5" fill="#aebaff" opacity="0.7" />
      <ellipse cx="110" cy="80" rx="5" ry="2" fill="#7fd0ff" opacity="0.5" />
      <!-- Windows -->
      <ellipse cx="100" cy="38" rx="5" ry="5" fill="#7fd0ff" opacity="0.6" />
      <ellipse cx="120" cy="38" rx="5" ry="5" fill="#7fd0ff" opacity="0.6" />
    </svg>
    <div class="loading-text">
      <strong>Preparing your simulation...</strong><br />
      The ship is crossing the asteroid belt. Please wait while we train your
      model!
    </div>
    <script>
      // Poll the server for training status
      function checkStatus() {
        fetch("/training-status")
          .then((res) => res.json())
          .then((data) => {
            if (data.done) {
              window.location.href = "/simulation";
            } else {
              setTimeout(checkStatus, 2000);
            }
          });
      }
      checkStatus();
    </script>
  </body>
</html>
